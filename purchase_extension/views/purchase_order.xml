<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="purchase_order_form_extended" model="ir.ui.view">
        <field name="name">purchase.order.form.extended</field>
        <field name="model">purchase.order</field>
        <field name="inherit_id" ref="purchase.purchase_order_form"/>
        <field name="arch" type="xml">
             <xpath expr="//field[@name='partner_ref']" position="after">
                <field name="vendor_code" readonly="1"/>
                 <field name="buyer_code" attrs="{'readonly':[('state','!=','draft')]}"/>
                 <field name="fax" attrs="{'readonly':[('state','!=','draft')]}"/>
                 <field name="ship_to" attrs="{'readonly':[('state','!=','draft')]}"/>
                 <field name="ship_via" attrs="{'readonly':[('state','!=','draft')]}"/>
             </xpath>
            <xpath expr="//field[@name='company_id']" position="after">
                <field name="recurring_order" attrs="{'readonly':[('state','!=','draft')]}"/>
                <field name="recurring_period" attrs="{'invisible':[('recurring_order','=',False)],'readonly':[('state','!=','draft')]}"/>
                <field name="recurring_date"  attrs="{'invisible':[('recurring_order','=',False)],'readonly':[('state','!=','draft')]}"/>
                <field name="done_recurring" invisible="1"/>
                <field name="fob" attrs="{'readonly':[('state','!=','draft')]}"/>
                <field name="freight" attrs="{'readonly':[('state','!=','draft')]}"/>
                <field name="confirm_to" attrs="{'readonly':[('state','!=','draft')]}"/>
            </xpath>

            <xpath expr="//field[@name='payment_term_id']" position="attributes">
                <attribute name="options">
                    {'no_open':False,'no_create': False}
                  </attribute>
            </xpath>

             <xpath expr="//field[@name='notes']" position="before">
                 <label for="remarks"/>
                 <br/>
                <field name="remarks"  class="oe_inline" attrs="{'readonly':[('state','!=','draft')]}"/>
             </xpath>

            <xpath expr="//field[@name='order_line']/tree/field[@name='name']" position="before">
                <field name="description_type"/>
            </xpath>

            <xpath expr="//field[@name='order_line']/tree/field[@name='name']" position="after">
                <field name="ic_clearing_account"/>
                <field name="memo"/>
            </xpath>

            <xpath expr="//notebook[last()]" position="inside">
                <page string="Comments">
                        <field name="comments"/>
                </page>
            </xpath>


        </field>
    </record>
</odoo>



